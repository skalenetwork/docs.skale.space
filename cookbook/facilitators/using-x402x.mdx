---
title: "x402x"
description: "Integrate x402x facilitator for advanced payment processing features"
---

x402x is an advanced facilitator service that extends the base x402 protocol with additional features for enterprise use cases. It provides enhanced payment processing, analytics, and customization options.

## Prerequisites

- Node.js and npm installed
- A SKALE Chain endpoint
- Understanding of x402 protocol

## Configuration

### Environment Variables

Create a `.env` file with x402x configuration:

```bash
# Facilitator router address
RECEIVING_ADDRESS=0x1Ae0E196dC18355aF3a19985faf67354213F833D

# Payment token configuration
PAYMENT_TOKEN_ADDRESS=0x2e08028E3C4c2356572E096d8EF835cD5C6030bD
PAYMENT_TOKEN_NAME="Bridged USDC (SKALE Bridge)"

# SKALE network configuration
NETWORK_CHAIN_ID=324705682

# Server port
PORT=3000
```

## Basic Integration


<Tabs>
  <Tab title="Server Setup">

```typescript
import { Hono } from "hono";
import { serve } from "@hono/node-server";
import { paymentMiddleware, x402ResourceServer } from "@x402/hono";
import { ExactEvmScheme } from "@x402/evm/exact/server";
import { HTTPFacilitatorClient } from "@x402/core/server";
import type { Network } from "@x402/core/types";
import "dotenv/config";

const app = new Hono();

async function main() {
  const facilitatorUrl = "https://facilitator.x402x.dev";
  const apiKey = process.env.X402X_API_KEY!;
  const receivingAddress = process.env.RECEIVING_ADDRESS as `0x${string}`;
  const paymentTokenAddress = process.env.PAYMENT_TOKEN_ADDRESS as `0x${string}`;
  const paymentTokenName = process.env.PAYMENT_TOKEN_NAME || "Axios USD";
  const networkChainId = process.env.NETWORK_CHAIN_ID || "324705682";
  const network: Network = `eip155:${networkChainId}`;

  // Initialize x402x facilitator client with authentication
  const facilitatorClient = new HTTPFacilitatorClient({
    url: facilitatorUrl,
    headers: {
      "X-API-Key": apiKey,
      "Authorization": `Bearer ${apiKey}`,
    },
  });

  const resourceServer = new x402ResourceServer(facilitatorClient);
  resourceServer.register("eip155:*", new ExactEvmScheme());

  // Apply payment middleware
  app.use(
    paymentMiddleware(
      {
        "GET /api/premium": {
          accepts: [
            {
              scheme: "exact",
              network: network,
              payTo: receivingAddress,
              price: {
                amount: "50000", // 0.05 tokens
                asset: paymentTokenAddress,
                extra: {
                  name: paymentTokenName,
                  version: "1",
                },
              },
            },
          ],
          description: "Premium content with x402x",
          mimeType: "application/json",
        },
      },
      resourceServer
    )
  );

  // Protected endpoint
  app.get("/api/premium", (c) => {
    return c.json({
      message: "Premium content unlocked via x402x!",
      features: ["analytics", "webhooks", "rate-limiting"],
      timestamp: new Date().toISOString(),
    });
  });

  const port = Number(process.env.PORT) || 3000;
  serve({ fetch: app.fetch, port }, () => {
    console.log(`Server running on http://localhost:${port}`);
    console.log(`Using x402x facilitator: ${facilitatorUrl}`);
  });
}

main().catch(console.error);
```
  </Tab>
  <Tab title="Client Setup">
    ```typescript
      import { wrapFetchWithPayment } from "x402-fetch";
      import { x402Client } from "@x402/core/client";
      import { registerX402xScheme } from "@x402x/extensions";

      import "dotenv/config";

      async function main() {
            const account = privateKeyToAccount(
              process.env.PRIVATE_KEY as `0x${string}`
            );

        // 2. Create client and register x402x scheme
        const client = new x402Client();
        registerX402xScheme(client, "eip155:324705682", account);
        // 3. Wrap fetch - it handles 402 automatically!
        const fetchWithPayment = wrapFetchWithPayment(fetch, client);
        // 4. Use like normal fetch - payment happens transparently
        const response = await fetchWithPayment("/api/premium-content", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ /* your data */ }),
        });
        const result = await response.json();
        }

main();
```

  </Tab>
</Tabs>

## Troubleshooting

### Connection Issues

If you cannot connect to x402x:

1. Verify the facilitator URL is correct
2. Check network connectivity
3. Ensure API credentials are valid
4. Review firewall settings

### Payment Failures

Common causes and solutions:

| Issue | Solution |
|-------|----------|
| Invalid signature | Verify wallet configuration and signing |
| Insufficient balance | Ensure payer has enough tokens |
| Network mismatch | Check chain ID matches configuration |
| Expired authorization | Increase `maxTimeoutSeconds` |

## Next Steps

<CardGroup cols={2}>
  <Card title="SKALE Supported Facilitators" icon="dollar-sign" href="/get-started/agentic-builders/facilitators">
    Alternative hosted facilitator service
  </Card>
  <Card title="Run Your Own" icon="server" href="/cookbook/x402/facilitator">
    Deploy your own facilitator
  </Card>
  <Card title="Accept Payments" icon="credit-card" href="/cookbook/x402/accepting-payments">
    Protect endpoints with payments
  </Card>
  <Card title="Build an Agent" icon="robot" href="/cookbook/agents/build-an-agent">
    Create payment-enabled agents
  </Card>
</CardGroup>

## Resources

- [x402x Documentation](https://www.x402x.dev/docs)
- [x402 Protocol Specification](https://x402.org)

---

<Note>
This entity -- x402x -- is deployed and activley supporting SKALE. These are 3rd party services that may have their own terms and conditions and privacy polices. Use these services at your own risk. AI and agents is a highly experimental space; the 3rd party software solutions may have bugs or be unaudited. You and your agents and your customers use all 3rd party services chosen at your own risk and per their terms.
</Note>
